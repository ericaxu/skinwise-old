@(state: src.controllers.util.ResponseState, ingredient: src.models.data.Ingredient)

@import src.util.Util;
@import org.apache.commons.lang3.text.WordUtils;
@template(ingredient.getDisplayName + " - Skin Wise", state) {

    <link rel="stylesheet" media="screen" href='@routes.Assets.at("/public", "stylesheets/browse.css")'>

} {

    <div class="ingredient_detail">

        <div class="section">
            <h1 class="name">@ingredient.getDisplayName</h1>
            @if(ingredient.getAliasesString.size > 1) {
                <div class="alternate_names">
                    Also known as
                    @Util.joinString(", ", ingredient.getAliasesString.map { WordUtils.capitalizeFully(_) }
                            .filter { _.toLowerCase != ingredient.getName.toLowerCase })
                </div>
            }
        </div>

        <div class="functions section">
            <h3>What It Does</h3>
            <p>@for(f <- ingredient.getFunctions) {
                <a class="function neutral" data-id="@f.getId">@WordUtils.capitalizeFully(f.getName)</a>
            }
            </p>
        </div>

        <div class="benefits section">
            <h3>Benefits</h3>
            <p>@for(b <- ingredient.getBenefits) {
                <a class="benefit neutral" href="/benefit/@b.getId">@b.getName</a>
            }
            </p>
        </div>

        <div class="description section">
            <h3>What It Is</h3>
            <p>@ingredient.getDescription</p>
        </div>

        <div class="contained_products section">
            <h3>Products with @ingredient.getDisplayName</h3>
            @product_filters(false, true, true, true, true, true)

            <div class="products_list">
                <ul class="horizontal">
                </ul>
                <div class="end_of_results">No more results.</div>
                <div id="loading_spinner"></div>
            </div>

            <div id="back_to_top">
                <span class="chevron top"></span>
                Back to Top
            </div>
        </div>
    </div>

} {

    <script src='@routes.Assets.at("/public", "javascripts/vendor/spin-min.js")'></script>
    <script src='@routes.Assets.at("/public", "javascripts/browse.js")'></script>
    <script>
        SW.CUR_INGREDIENT = @ingredient.getId ;
        SW.BROWSE_TYPE = 'product';
        initBrowse();
        setNavsearchCategory('ingredient');
    </script>

}
